<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <title>Document</title>
</head>

<body>
    <div id="container">

        <div id="header">
            <h1 id="heading">Rock Paper and Scissors</h1>
        </div id="header">

        <div>
            <h3 class="action">Choose your action</h3>
            <h5 class="action">(first one to reach 5 points, wins the game)</h5>
        </div>

        <div id="buttons">
            <button id="rock" value="rock"><p>ROCK</p></button>
            <button id="paper" value="paper"><p>PAPER</p></button>
            <button id="scissors" value="scissors"><p>SCISSORS</p></button>
        </div>

        <p id="result"></p>

        <div id="points">
            <p id="computerPoint">Computer :    0 </p>
            <p id="playerPoint">Player :    0 </p>
        </div>

        <p id="checkGame"> </p>

        <footer>
            Get to know more about the game, click <a href="https://www.wikihow.com/Play-Rock,-Paper,-Scissors">HERE</a>
        </footer>
    </div>


    <script>
        let choice;
        let playerPoint=0
        let computerPoint=0; 
        game();

        function getComputerChoice() // function that creates the choice of computer
        {
            choice = choice[Math.floor(Math.random() * choice.length)];
            return choice;
        }


        function playGame(playerSelection) //function to play the game
        {
            choice = ["rock", "paper", "scissors"];
            let computerSelection = getComputerChoice(choice);
            if (computerSelection === 'rock' && playerSelection === 'scissors' || computerSelection === 'paper' && playerSelection === 'rock' || computerSelection === 'scissors' && playerSelection === 'paper') //When computer wins
            {
                result = ` Computer Chose ${computerSelection}, You chose ${playerSelection}.... ${computerSelection} beats ${playerSelection}... computer wins.. you lose.. Better luck next time ;-)`;
                document.getElementById('result').innerHTML = `${result}`;
                computerPoint++;
                console.log(`computer Point is ${computerPoint}`);
                document.getElementById('computerPoint').innerHTML = `Computer :     ${computerPoint}`;

            }
            else if (computerSelection === playerSelection) //When both values are the same
            {
                result = ` Computer Chose ${computerSelection}, You chose ${playerSelection}..... It's a Tie..... play again`;
                document.getElementById('result').innerHTML = `${result}`;
            }
            else if ((computerSelection === 'scissors' && playerSelection === 'rock' || computerSelection === 'rock' && playerSelection === 'paper' || computerSelection === 'paper' && playerSelection === 'scissors')) //When the Player wins
            {
                result = `Computer Chose ${computerSelection}, You chose ${playerSelection}.... ${playerSelection} beats ${computerSelection}... Yaaaaaayyyy!!! You win the round.... `;
                document.getElementById('result').innerHTML = `${result}`;
                playerPoint++;
                console.log(`playerPoint is ${playerPoint}`);
                document.getElementById('playerPoint').innerHTML = `Player :     ${playerPoint}`;
            }
            else if (playerSelection !== 'rock' || playerSelection !== 'paper' || playerSelection !== 'scissors') //When invalid input is entered
            {
                result = ` Invalid Input... Enter the correct action`;
                document.getElementById('result').innerHTML = `${result}`;
            }
            else //When neither the computer nor the player wins
            {
                result = `Computer Chose ${computerSelection}, You chose ${playerSelection}..... Time to go again...`;
                document.getElementById('result').innerHTML = `${result}`;
            }
            
            if(computerPoint===5)
            {
                console.log("computer wins");
                document.getElementById('checkGame').innerHTML="Computer Wins The Game!!!";
            }

            else if(playerPoint===5)
            {
                console.log("player wins");
                document.getElementById('checkGame').innerHTML="Player Wins The Game!!!";
            }
        }

        function game() {

            let rock = document.getElementById("rock").addEventListener('click', function () { playGame('rock'); });
            let paper = document.getElementById("paper").addEventListener('click', function () { playGame('paper'); });
            let scissors = document.getElementById("scissors").addEventListener('click', function () { playGame('scissors'); });

        }
    </script>
</body>

</html>